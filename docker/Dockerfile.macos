# syntax=docker/dockerfile:1
# macOS (ARM) container image with project extras for Autoresearch
FROM ghcr.io/cirruslabs/macos-runner:sonoma

ARG EXTRAS=full
WORKDIR /workspace
COPY . .
RUN /bin/bash -lc "brew update && brew install python@3.12" \
    && pip3 install --no-cache-dir uv \
    && uv pip install ".[${EXTRAS}]"
ENTRYPOINT ["autoresearch"]
CMD ["--help"]
