task: [verify] set -eu
extras="dev-minimal test"
export UV_HTTP_TIMEOUT="${UV_HTTP_TIMEOUT:-600}"
uv sync \
  --python-platform x86_64-manylinux_2_28 \
  $(printf ' --extra %s' $extras) \
  

Resolved 328 packages in 7ms
   Building autoresearch @ file:///workspace/autoresearch
      Built autoresearch @ file:///workspace/autoresearch
Prepared 1 package in 1.33s
Uninstalled 1 package in 0.84ms
Installed 1 package in 6ms
 ~ autoresearch==0.1.0a1 (from file:///workspace/autoresearch)
task: [verify] task check-env EXTRAS="dev-minimal test"
task: [check-env] task --version
3.45.4
task: [check-env] uv run python scripts/check_env.py
Verifying extras: dev-minimal, test
Python 3.12.10
Go Task 3.45.4
uv 0.7.22
a2a-sdk 0.3.7
black 25.9.0
duckdb 1.3.2
fakeredis 2.31.3
flake8 7.3.0
freezegun 1.5.5
hypothesis 6.140.2
mypy 1.18.2
networkx 3.5
owlrl 7.1.4
pdfminer-six 20250506
psutil 7.1.0
pytest 8.4.2
pytest-bdd 8.1.0
pytest-benchmark 5.1.0
pytest-cov 7.0.0
pytest-httpx 0.35.0
python-docx 1.2.0
redis 6.4.0
responses 0.25.8
tomli-w 1.2.0
types-protobuf 6.32.1.20250918
types-psutil 7.0.0.20250822
types-requests 2.32.4.20250913
types-tabulate 0.9.0.20241207
uvicorn 0.37.0
task: [verify] set -eu
uv run flake8 src tests
echo "[verify][lint] flake8 passed"

[verify][lint] flake8 passed
task: [verify] set -eu
uv run mypy src
echo "[verify][mypy] src passed"

src/autoresearch/agents/messages.py:33: error: Missing type parameters for generic type "dict"  [type-arg]
src/autoresearch/cache.py:107: error: Returning Any from function declared to return "list[dict[str, Any]] | None"  [no-any-return]
src/autoresearch/monitor/system_monitor.py:73: error: Argument 1 to "float" has incompatible type "float | list[float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/monitor/metrics.py:17: error: Argument 1 to "PlainTextResponse" has incompatible type "bytes"; expected "str"  [arg-type]
src/autoresearch/main/Prompt.py:9: error: Returning Any from function declared to return "str"  [no-any-return]
src/autoresearch/storage_typing.py:31: error: Module "rdflib.term" has no attribute "Identifier"  [attr-defined]
src/autoresearch/orchestration/model_routing.py:47: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "float | str | None")  [assignment]
src/autoresearch/agents/prompts.py:562: error: Redundant cast to "dict[str, Any]"  [redundant-cast]
src/autoresearch/search/context.py:47: error: Cannot find implementation or library stub for module named "spacy.cli"  [import-not-found]
src/autoresearch/search/context.py:828: error: Incompatible types in assignment (expression has type "Any | None", variable has type "str")  [assignment]
src/autoresearch/orchestration/metrics.py:814: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:817: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:821: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:824: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:827: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:830: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:833: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:836: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:839: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:841: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:845: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:848: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:851: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:854: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/orchestration/metrics.py:881: error: Argument 1 to "float" has incompatible type "float | dict[str, float]"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/llm/pool.py:36: error: Module has no attribute "adapters"  [attr-defined]
src/autoresearch/llm/pool.py:40: error: "Session" has no attribute "mount"  [attr-defined]
src/autoresearch/llm/pool.py:41: error: "Session" has no attribute "mount"  [attr-defined]
src/autoresearch/extensions.py:246: error: Unused "type: ignore" comment  [unused-ignore]
src/autoresearch/llm/adapters.py:141: error: "Response" has no attribute "raise_for_status"  [attr-defined]
src/autoresearch/llm/adapters.py:208: error: "Response" has no attribute "raise_for_status"  [attr-defined]
src/autoresearch/llm/adapters.py:290: error: "Response" has no attribute "raise_for_status"  [attr-defined]
src/autoresearch/search/http.py:44: error: Module has no attribute "adapters"  [attr-defined]
src/autoresearch/search/http.py:49: error: "Session" has no attribute "mount"  [attr-defined]
src/autoresearch/search/http.py:50: error: "Session" has no attribute "mount"  [attr-defined]
src/autoresearch/search/core.py:163: error: Incompatible types in assignment (expression has type "type[SentenceTransformer]", variable has type "type[OnnxTextEmbedding] | None")  [assignment]
src/autoresearch/search/core.py:610: error: Argument "cache" to "Search" has incompatible type "SearchCache | _SearchCacheView"; expected "SearchCache | None"  [arg-type]
src/autoresearch/search/core.py:767: error: "type[BM25Okapi]" has no attribute "return_value"  [attr-defined]
src/autoresearch/search/core.py:1214: error: Redundant cast to "list[dict[str, Any]]"  [redundant-cast]
src/autoresearch/search/core.py:1279: error: Returning Any from function declared to return "list[float] | None"  [no-any-return]
src/autoresearch/search/core.py:1785: error: Module has no attribute "exceptions"  [attr-defined]
src/autoresearch/search/core.py:1795: error: Module has no attribute "exceptions"  [attr-defined]
src/autoresearch/search/core.py:1953: error: Argument "cache" to "ExternalLookupResult" has incompatible type "SearchCache | _SearchCacheView"; expected "SearchCache"  [arg-type]
src/autoresearch/search/core.py:1968: error: Argument "cache" to "ExternalLookupResult" has incompatible type "SearchCache | _SearchCacheView"; expected "SearchCache"  [arg-type]
src/autoresearch/search/core.py:2023: error: "Response" has no attribute "raise_for_status"  [attr-defined]
src/autoresearch/search/core.py:2071: error: "Response" has no attribute "raise_for_status"  [attr-defined]
src/autoresearch/search/core.py:2120: error: "Response" has no attribute "raise_for_status"  [attr-defined]
src/autoresearch/search/core.py:2218: error: Argument 1 has incompatible type "Callable[[str, int], list[LocalGitResult]]"; expected "Callable[[str, int], list[dict[str, Any]]]"  [arg-type]
src/autoresearch/distributed/executors.py:49: error: Argument 1 to "set_message_queue" has incompatible type "MessageQueueProtocol"; expected "StorageQueueProtocol | None"  [arg-type]
src/autoresearch/distributed/executors.py:49: note: Following member(s) of "MessageQueueProtocol" have conflicts:
src/autoresearch/distributed/executors.py:49: note:     Expected:
src/autoresearch/distributed/executors.py:49: note:         def put(self, item: Mapping[str, Any]) -> None
src/autoresearch/distributed/executors.py:49: note:     Got:
src/autoresearch/distributed/executors.py:49: note:         def put(self, item: AgentResultMessage | PersistClaimMessage | StopMessage) -> None
src/autoresearch/distributed/executors.py:58: error: Argument 1 to "set_http_session" has incompatible type "Any | list[Any]"; expected "Session"  [arg-type]
src/autoresearch/distributed/executors.py:67: error: Argument 1 to "set_session" has incompatible type "Any | list[Any]"; expected "Session"  [arg-type]
src/autoresearch/distributed/executors.py:90: error: Argument 1 to "set_message_queue" has incompatible type "MessageQueueProtocol"; expected "StorageQueueProtocol | None"  [arg-type]
src/autoresearch/distributed/executors.py:90: note: Following member(s) of "MessageQueueProtocol" have conflicts:
src/autoresearch/distributed/executors.py:90: note:     Expected:
src/autoresearch/distributed/executors.py:90: note:         def put(self, item: Mapping[str, Any]) -> None
src/autoresearch/distributed/executors.py:90: note:     Got:
src/autoresearch/distributed/executors.py:90: note:         def put(self, item: AgentResultMessage | PersistClaimMessage | StopMessage) -> None
src/autoresearch/distributed/executors.py:130: error: Argument 1 to "set_message_queue" has incompatible type "MessageQueueProtocol"; expected "StorageQueueProtocol | None"  [arg-type]
src/autoresearch/distributed/executors.py:130: note: Following member(s) of "MessageQueueProtocol" have conflicts:
src/autoresearch/distributed/executors.py:130: note:     Expected:
src/autoresearch/distributed/executors.py:130: note:         def put(self, item: Mapping[str, Any]) -> None
src/autoresearch/distributed/executors.py:130: note:     Got:
src/autoresearch/distributed/executors.py:130: note:         def put(self, item: AgentResultMessage | PersistClaimMessage | StopMessage) -> None
src/autoresearch/distributed/executors.py:211: error: Argument 1 to "set_message_queue" has incompatible type "MessageQueueProtocol"; expected "StorageQueueProtocol | None"  [arg-type]
src/autoresearch/distributed/executors.py:211: note: Following member(s) of "MessageQueueProtocol" have conflicts:
src/autoresearch/distributed/executors.py:211: note:     Expected:
src/autoresearch/distributed/executors.py:211: note:         def put(self, item: Mapping[str, Any]) -> None
src/autoresearch/distributed/executors.py:211: note:     Got:
src/autoresearch/distributed/executors.py:211: note:         def put(self, item: AgentResultMessage | PersistClaimMessage | StopMessage) -> None
src/autoresearch/storage_backup.py:435: error: Function is missing a return type annotation  [no-untyped-def]
src/autoresearch/storage_backup.py:435: note: Use "-> None" if function does not return a value
src/autoresearch/storage_backup.py:477: error: Function is missing a return type annotation  [no-untyped-def]
src/autoresearch/storage_backup.py:477: note: Use "-> None" if function does not return a value
src/autoresearch/storage_backup.py:525: error: Call to untyped function "BackupScheduler" in typed context  [no-untyped-call]
src/autoresearch/resource_monitor.py:190: error: Incompatible return value type (got "tuple[float | list[float], float]", expected "tuple[float, float]")  [return-value]
src/autoresearch/resource_monitor.py:292: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
src/autoresearch/llm/capabilities.py:96: error: Returning Any from function declared to return "dict[str, ModelCapabilities]"  [no-any-return]
src/autoresearch/llm/capabilities.py:205: error: "Response" has no attribute "raise_for_status"  [attr-defined]
src/autoresearch/agents/specialized/planner.py:243: error: Incompatible types in assignment (expression has type "str", variable has type "Mapping[Any, Any]")  [assignment]
src/autoresearch/scheduler_benchmark.py:35: error: Call to untyped function "BackupScheduler" in typed context  [no-untyped-call]
src/autoresearch/evaluation/harness.py:206: error: "ConfigModel" has no attribute "model_copy"  [attr-defined]
src/autoresearch/evaluation/harness.py:413: error: "DuckDBPyConnection" has no attribute "__enter__"  [attr-defined]
src/autoresearch/evaluation/harness.py:413: error: "DuckDBPyConnection" has no attribute "__exit__"  [attr-defined]
src/autoresearch/evaluation/harness.py:560: error: "DuckDBPyConnection" has no attribute "__enter__"  [attr-defined]
src/autoresearch/evaluation/harness.py:560: error: "DuckDBPyConnection" has no attribute "__exit__"  [attr-defined]
src/autoresearch/evaluation/harness.py:564: error: "DuckDBPyConnection" has no attribute "__enter__"  [attr-defined]
src/autoresearch/evaluation/harness.py:564: error: "DuckDBPyConnection" has no attribute "__exit__"  [attr-defined]
src/autoresearch/evaluation/harness.py:601: error: "DuckDBPyConnection" has no attribute "__enter__"  [attr-defined]
src/autoresearch/evaluation/harness.py:601: error: "DuckDBPyConnection" has no attribute "__exit__"  [attr-defined]
src/autoresearch/evaluation/harness.py:636: error: "DuckDBPyConnection" has no attribute "__enter__"  [attr-defined]
src/autoresearch/evaluation/harness.py:636: error: "DuckDBPyConnection" has no attribute "__exit__"  [attr-defined]
src/autoresearch/evaluation/harness.py:845: error: Argument 1 to "float" has incompatible type "Any | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
src/autoresearch/a2a_interface.py:156: error: Cannot assign to a type  [misc]
src/autoresearch/a2a_interface.py:157: error: Cannot assign to a type  [misc]
src/autoresearch/a2a_interface.py:158: error: Cannot assign to a type  [misc]
src/autoresearch/a2a_interface.py:159: error: Cannot assign to a type  [misc]
src/autoresearch/a2a_interface.py:160: error: Cannot assign to a type  [misc]
src/autoresearch/a2a_interface.py:250: error: Argument 1 to "Config" has incompatible type "FastAPI"; expected "type[ASGI2Protocol] | Callable[[HTTPScope | WebSocketScope | LifespanScope, Callable[[], Awaitable[HTTPRequestEvent | HTTPDisconnectEvent | WebSocketConnectEvent | _WebSocketReceiveEventBytes | _WebSocketReceiveEventText | WebSocketDisconnectEvent | LifespanStartupEvent | LifespanShutdownEvent]], Callable[[HTTPResponseStartEvent | HTTPResponseBodyEvent | HTTPResponseTrailersEvent | HTTPServerPushEvent | HTTPDisconnectEvent | <9 more items>], Awaitable[None]]], Awaitable[None]] | Callable[..., Any] | str"  [arg-type]
src/autoresearch/mcp_interface.py:58: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/autoresearch/cli_utils.py:456: error: "Result" has no attribute "vars"  [attr-defined]
src/autoresearch/cli_utils.py:493: error: "ConfigModel" has no attribute "model_copy"  [attr-defined]
src/autoresearch/monitor/__init__.py:73: error: "_VirtualMemory" has no attribute "used"  [attr-defined]
src/autoresearch/monitor/__init__.py:114: error: Too many values to unpack (2 expected, 3 provided)  [misc]
src/autoresearch/main/config_cli.py:26: error: "ConfigModel" has no attribute "json"  [attr-defined]
src/autoresearch/main/app.py:443: error: Unexpected keyword argument "detail" for "print_error"  [call-arg]
src/autoresearch/main/app.py:876: error: Cannot find implementation or library stub for module named "autoresearch.main.llm"  [import-not-found]
src/autoresearch/main/app.py:876: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
src/autoresearch/main/app.py:877: error: Cannot find implementation or library stub for module named "autoresearch.main.orchestration"  [import-not-found]
src/autoresearch/main/app.py:1012: error: Cannot find implementation or library stub for module named "autoresearch.main.test_tools"  [import-not-found]
src/autoresearch/cli_utils.py:208: note: "print_error" defined here
src/autoresearch/main/app.py:478: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
src/autoresearch/main/app.py:588: error: Argument 1 to "Path" has incompatible type "Path | None"; expected "str | PathLike[str]"  [arg-type]
Found 93 errors in 28 files (checked 129 source files)
task: Failed to run task "verify": exit status 1
